# 📖 Saekim 사용 설명서

새김 마크다운 에디터의 상세 사용 방법을 안내합니다.

---

## 목차

- [메인 인터페이스](#메인-인터페이스)
- [파일 탐색기](#파일-탐색기)
- [툴바 버튼](#툴바-버튼)
- [에디터 사용법](#에디터-사용법)
- [미리보기 사용법](#미리보기-사용법)
- [탭 관리](#탭-관리)
- [문서 변환](#문서-변환)
- [테마 변경](#테마-변경)
- [작업 예시](#작업-예시)
- [찾기 및 바꾸기](#찾기-및-바꾸기)
- [키보드 단축키](#키보드-단축키)

---

## 메인 인터페이스

프로그램 화면은 다음과 같이 구성됩니다:

![화면](README_images/Realtime_Preview.png)

**주요 구성 요소:**
- **파일 탐색기** (왼쪽): 폴더 및 파일 트리
- **에디터** (중앙 왼쪽): 마크다운 편집기
- **미리보기** (중앙 오른쪽): 실시간 렌더링
- **툴바** (상단): 주요 기능 버튼
- **탭 바** (상단): 열린 파일 탭

---

## 파일 탐색기

### 열기/닫기
- **버튼**: 좌측 상단 햄버거 메뉴 (☰)
- **기능**: 선택한 폴더의 파일 트리 표시

### 사용법
1. **폴더 열기**: 툴바의 ![폴더 열기](README_images/openfolder_icon.png) 버튼 클릭
2. **파일 선택**: 파일을 더블클릭하면 새 탭에서 열림
3. **폴더 탐색**: 폴더 아이콘 클릭으로 확장/축소

### 드래그 앤 드롭 (v1.1.0+)
- **지원 파일**: `.md`, `.txt`, `.pdf`
- **사용법**: 파일을 파일 탐색기 영역으로 드래그
- **PDF 자동 변환**: PDF 파일은 자동으로 마크다운으로 변환 후 열림

---

## 툴바 버튼

### 1️⃣ 실행 취소 ↶
- **단축키**: `Ctrl+Z`
- **기능**: 마지막 편집 작업 취소
- **활성화**: 편집 기록이 있을 때

### 2️⃣ 다시 실행 ↷
- **단축키**: `Ctrl+Y`
- **기능**: 취소한 작업 다시 실행
- **활성화**: 취소한 기록이 있을 때

### 3️⃣ 이미지 삽입 🖼️
- **단축키**: 없음
- **기능**: 이미지 파일 선택 후 마크다운에 삽입
- **동작**:
  1. 버튼 클릭
  2. 이미지 파일 선택 (PNG, JPG, GIF 등)
  3. 자동으로 `{filename}_images/` 폴더에 복사
  4. 마크다운 문법 자동 삽입: `![이미지](경로)`

### 4️⃣ 표 삽입 📊
- **단축키**: 없음
- **기능**: 기본 3x3 표 템플릿 삽입
- **삽입 코드**:
  ```markdown
  | 헤더1 | 헤더2 | 헤더3 |
  |-------|-------|-------|
  | 셀1   | 셀2   | 셀3   |
  | 셀4   | 셀5   | 셀6   |
  ```

### 5️⃣ 마크다운 도우미 MD
- **단축키**: `Ctrl+Shift+D`
- **기능**: 마크다운 문법 도우미 다이얼로그
- **포함 내용**:
  - 제목 (H1~H6)
  - 볼드, 이탤릭, 취소선
  - 리스트, 링크, 코드 블록
  - 인용, 구분선, 표
- **사용법**:
  1. 버튼 클릭 또는 `Ctrl+Shift+D`
  2. 검색창에 원하는 문법 검색 (한글/영문)
  3. 항목 클릭
  4. "삽입" 버튼으로 에디터에 추가

### 6️⃣ 수식 도우미 fx
- **단축키**: `Ctrl+Shift+K`
- **기능**: KaTeX 수학 수식 도우미
- **포함 내용**:
  - 분수: `\frac{a}{b}`
  - 제곱근: `\sqrt{x}`, `\sqrt[n]{x}`
  - 적분: `\int`, `\int_a^b`
  - 미분: `\frac{d}{dx}`
  - 그리스 문자: `\alpha`, `\beta`, `\gamma`
  - 행렬: `\begin{bmatrix}...\end{bmatrix}`
  - 합/곱: `\sum`, `\prod`
  - 극한: `\lim_{x \to \infty}`

### 7️⃣ 다이어그램 도우미 ◇
- **단축키**: `Ctrl+Shift+M`
- **기능**: Mermaid 다이어그램 도우미
- **포함 다이어그램**:
  - Flowchart (플로우차트)
  - Sequence Diagram (시퀀스 다이어그램)
  - Class Diagram (클래스 다이어그램)
  - State Diagram (상태 다이어그램)
  - ER Diagram (ER 다이어그램)
  - Gantt Chart (간트 차트)
  - Pie Chart (파이 차트)
  - Git Graph (깃 그래프)

### 8️⃣ 찾기 🔍
- **단축키**: `Ctrl+F`
- **기능**: 찾기 및 바꾸기 위젯
- **옵션**:
  - **대소문자 구분** (`Alt+C`)
  - **단어 단위** (`Alt+W`)
  - **정규표현식** (`Alt+R`)

### 9️⃣ 새로고침 🔄 (v1.2.0+)
- **단축키**: `F5`
- **기능**: 현재 파일을 디스크에서 다시 로드
- **자동 새로고침**: 파일이 외부에서 수정되면 자동 감지 및 리로드

### 🔟 스크롤 동기화 🔗
- **단축키**: 없음
- **기능**: 에디터와 미리보기 스크롤 동기화 토글
- **활성화 시**: 에디터 스크롤하면 미리보기도 자동 스크롤
- **비활성화 시**: 독립적 스크롤

---

## 에디터 사용법

### 기본 편집
- **타이핑**: 마크다운 문법으로 자유롭게 작성
- **실시간 미리보기**: 300ms 후 오른쪽에 렌더링

### 문법 하이라이팅
- 마크다운 구문이 색상으로 구분되어 표시
- 제목, 볼드, 링크 등 시각적으로 구별

### 자동 완성
- `Ctrl+Shift+D`: 마크다운 문법 도우미
- `Ctrl+Shift+K`: 수식 도우미
- `Ctrl+Shift+M`: 다이어그램 도우미

---

## 미리보기 사용법

### 자동 렌더링
- 에디터에서 입력 후 300ms 후 자동 업데이트
- 코드 블록, 다이어그램, 수식 모두 렌더링

### 스크롤 동기화
- 툴바의 스크롤 동기화 버튼으로 활성화/비활성화
- 에디터 위치에 따라 미리보기 자동 스크롤

### 지원 요소
- **코드 하이라이팅**: 9개 언어 (Python, JavaScript, Java, C++, CSS, JSON, Markdown, SQL, Bash)
- **다이어그램**: 9종 Mermaid 차트
- **수식**: KaTeX LaTeX 수식
- **이미지**: 로컬 이미지 표시
- **표**: GitHub Flavored Markdown 표

---

## 탭 관리

### 탭 생성
- **새 파일**: 툴바의 ![새 파일](README_images/newfile_icon.png) 버튼
- **파일 열기**: 툴바의 ![파일 열기](README_images/openfile_icon.png) 버튼
- **파일 탐색기**: 파일 더블클릭

### 탭 전환
- **마우스**: 탭 클릭
- **키보드**: `Ctrl+Tab` (다음), `Ctrl+Shift+Tab` (이전)

### 탭 닫기
- **현재 탭**: `Ctrl+W` 또는 탭의 X 버튼
- **전체 닫기**: 각 탭을 개별적으로 닫기

### 세션 복원 (v1.1.0+)
- 프로그램 종료 시 열려있던 탭 자동 저장
- 재시작 시 이전 작업 상태 복원

---

## 문서 변환

### PDF로 내보내기
1. **메뉴 선택**: 툴바의 ![내보내기](README_images/export_icon.png) 버튼
2. **저장 위치 선택**: 파일 저장 다이얼로그
3. **변환 진행**: 진행률 모달 표시
4. **완료**: PDF 파일 생성 완료 알림

**특징**:
- Mermaid 다이어그램 완벽 렌더링
- KaTeX 수식 벡터 그래픽 변환
- 코드 하이라이팅 유지
- A4 크기 자동 조정

### PDF에서 가져오기
1. **메뉴 선택**: 툴바의 ![가져오기](README_images/import_icon.png) 버튼
2. **PDF 파일 선택**: 변환할 PDF 선택
3. **변환 진행**: 진행률 표시
4. **결과 확인**: 새 탭에 마크다운으로 열림

**특징**:
- 폰트 크기 기반 제목 레벨 자동 판단
- 표 구조 자동 인식
- 이미지 자동 추출
- 볼드/이탤릭 텍스트 감지

---

## 테마 변경

1. **설정 열기**: 툴바의 ![설정](README_images/setting_icon.png) 버튼 → Theme
2. **테마 선택**:
   - **Nord** (다크, 청록 강조)
   - **Dark** (다크, VS Code 스타일)
   - **Catppuccin Mocha** (다크, 파스텔)
   - **White** (라이트, 화이트)
   - **Black** (다크, 블랙)
   - **GitHub Primer** (GitHub 스타일)
3. **적용**: 즉시 반영 (재시작 불필요)
4. **저장**: 설정 자동 저장

---

## 작업 예시

### 코드 블록 작성

1. 에디터에 다음과 같이 입력:
   ````markdown
   ```python
   def fibonacci(n):
       if n <= 1:
           return n
       return fibonacci(n-1) + fibonacci(n-2)
   ```
   ````

2. 미리보기에서 Python 구문 하이라이팅 확인

### 다이어그램 작성

1. `Ctrl+Shift+M`으로 다이어그램 도우미 열기
2. "Flowchart" 선택
3. 기본 템플릿이 삽입됨:
   ````markdown
   ```mermaid
   flowchart LR
       A[시작] --> B[처리]
       B --> C[종료]
   ```
   ````

4. 노드와 연결 수정
5. 미리보기에서 다이어그램 확인

### 수식 작성

1. `Ctrl+Shift+K`로 수식 도우미 열기
2. "분수" 카테고리 → `\frac{a}{b}` 선택
3. 에디터에 `$\frac{a}{b}$` 삽입
4. `a`, `b`를 원하는 값으로 수정
5. 미리보기에서 수식 확인

**블록 수식 예시**:
```markdown
$$
x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}
$$
```

---

## 찾기 및 바꾸기

### 기본 찾기
1. `Ctrl+F` 또는 툴바의 찾기 버튼
2. 검색어 입력
3. `Enter`: 다음 결과로 이동
4. `Shift+Enter`: 이전 결과로 이동
5. 검색 결과 개수 표시 (예: "3/10")

### 정규표현식 사용
1. 찾기 위젯에서 `.*` 아이콘 클릭 (RegEx 모드)
2. 정규표현식 패턴 입력
   - 예: `\d+` (숫자 찾기)
   - 예: `[a-z]+@[a-z]+\.[a-z]+` (이메일 찾기)
3. 매칭된 모든 항목 하이라이트

### 바꾸기
1. "바꾸기" 탭 선택
2. "바꿀 내용" 입력
3. **단일 바꾸기**: 현재 선택된 항목만 교체
4. **모두 바꾸기**: 문서 전체에서 일괄 교체
5. 실행 전 "X개 항목 바꾸기" 확인

---

## 키보드 단축키

### 파일 조작
| 단축키 | 기능 |
|--------|------|
| `Ctrl+N` | 새 파일 |
| `Ctrl+O` | 파일 열기 |
| `Ctrl+S` | 저장 |
| `Ctrl+W` | 탭 닫기 |
| `F5` | 새로고침 (v1.2.0+) |
| `F9` | 파일 탐색기 토글 (v1.2.0+) |

### 편집
| 단축키 | 기능 |
|--------|------|
| `Ctrl+Z` | 실행 취소 |
| `Ctrl+Y` | 다시 실행 |
| `Ctrl+X` | 잘라내기 |
| `Ctrl+C` | 복사 |
| `Ctrl+V` | 붙여넣기 |
| `Ctrl+A` | 전체 선택 |
| `Ctrl+F` | 찾기 |

### 도우미
| 단축키 | 기능 |
|--------|------|
| `Ctrl+Shift+D` | 마크다운 도우미 |
| `Ctrl+Shift+K` | 수식 도우미 |
| `Ctrl+Shift+M` | 다이어그램 도우미 |

---

## 뷰 모드 (v1.2.0+)

### Edit / Split / View 버튼
- **Edit**: 에디터만 표시
- **Split**: 에디터 + 미리보기 (기본)
- **View**: 미리보기만 표시

### 활성 버튼 표시
- 선택된 버튼은 테마의 액센트 색상으로 강조
- Bold 폰트 및 배경색 변경으로 명확한 구분

---

## 자동 저장

- **간격**: 5초마다 자동 저장
- **세션**: 열려있는 탭 목록과 파일 경로 자동 저장
- **복원**: 프로그램 재시작 시 이전 작업 상태 복구

---

## 문제 해결

### 미리보기가 업데이트되지 않음
- 에디터에 타이핑 후 300ms 기다리기
- 새로고침 버튼 (F5) 클릭

### PDF 변환 실패
- Playwright 브라우저가 설치되었는지 확인
- `playwright install chromium` 명령 실행

### 파일이 열리지 않음
- 파일 인코딩이 UTF-8인지 확인
- 파일 권한 확인

---

**추가 도움말**: [GitHub Issues](https://github.com/beeean17/Saekim/issues)
